<?xml version="1.0" encoding="utf-8"?>
<lqn-model xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" name="collab_default" xsi:noNamespaceSchemaLocation="lqn.xsd">
   <processor multiplicity="1" name="ETL_processor" quantum="0.001" scheduling="ps" speed-factor="1">
      <task name="ETL_task" scheduling="inf">
         <entry name="Read current meter_entry" type="NONE"/>
         <entry name="Clean raw data_entry" type="NONE"/>
         <entry name="Standardize data_entry" type="NONE"/>
         <entry name="Select data_entry" type="NONE"/>
         <entry name="Send data to Cloudwatch_entry" type="NONE"/>
         <task-activities>
            <activity bound-to-entry="Read current meter_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="30" name="Read current meter_activity"/>
            <activity bound-to-entry="Clean raw data_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="50" name="Clean raw data_activity"/>
            <activity bound-to-entry="Standardize data_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="20" name="Standardize data_activity"/>
            <activity bound-to-entry="Select data_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="10" name="Select data_activity"/>
            <activity bound-to-entry="Send data to Cloudwatch_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="40" name="Send data to Cloudwatch_activity"/>
            <reply-entry name="Read current meter_entry">
               <reply-activity name="Read current meter_activity"/>
            </reply-entry>
            <reply-entry name="Clean raw data_entry">
               <reply-activity name="Clean raw data_activity"/>
            </reply-entry>
            <reply-entry name="Standardize data_entry">
               <reply-activity name="Standardize data_activity"/>
            </reply-entry>
            <reply-entry name="Select data_entry">
               <reply-activity name="Select data_activity"/>
            </reply-entry>
            <reply-entry name="Send data to Cloudwatch_entry">
               <reply-activity name="Send data to Cloudwatch_activity"/>
            </reply-entry>
         </task-activities>
      </task>
   </processor>
   <processor multiplicity="1" name="CloudWatch_processor" scheduling="fcfs" speed-factor="1">
      <task name="CloudWatch_task" scheduling="inf">
         <entry name="Share on SNS_entry" type="NONE"/>
         <entry name="Tigger ML pipeline state machine_entry" type="NONE"/>
         <task-activities>
            <activity bound-to-entry="Share on SNS_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="22" name="Share on SNS_activity"/>
            <activity bound-to-entry="Tigger ML pipeline state machine_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="5" name="Tigger ML pipeline state machine_activity"/>
            <reply-entry name="Share on SNS_entry">
               <reply-activity name="Share on SNS_activity"/>
            </reply-entry>
            <reply-entry name="Tigger ML pipeline state machine_entry">
               <reply-activity name="Tigger ML pipeline state machine_activity"/>
            </reply-entry>
         </task-activities>
      </task>
   </processor>
   <processor multiplicity="1" name="AWS Lambda_processor" scheduling="fcfs" speed-factor="1">
      <task name="AWS Lambda_task" scheduling="inf">
         <entry name="Activate model training_entry" type="NONE"/>
         <entry name="Initial model training pipeline_entry" type="NONE"/>
         <entry name="Load the initial configuration_entry" type="NONE"/>
         <entry name="Prepare training data set_entry" type="NONE"/>
         <entry name="Activate forecast_entry" type="NONE"/>
         <entry name="Create endpoint_entry" type="NONE"/>
         <entry name="Provide online interface_entry" type="NONE"/>
         <task-activities>
            <activity bound-to-entry="Activate model training_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="10" name="Activate model training_activity"/>
            <activity bound-to-entry="Initial model training pipeline_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="15" name="Initial model training pipeline_activity"/>
            <activity bound-to-entry="Load the initial configuration_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="8" name="Load the initial configuration_activity"/>
            <activity bound-to-entry="Prepare training data set_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="33" name="Prepare training data set_activity"/>
            <activity bound-to-entry="Activate forecast_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="3" name="Activate forecast_activity"/>
            <activity bound-to-entry="Create endpoint_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="6" name="Create endpoint_activity"/>
            <activity bound-to-entry="Provide online interface_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="1" name="Provide online interface_activity"/>
            <reply-entry name="Activate model training_entry">
               <reply-activity name="Activate model training_activity"/>
            </reply-entry>
            <reply-entry name="Initial model training pipeline_entry">
               <reply-activity name="Initial model training pipeline_activity"/>
            </reply-entry>
            <reply-entry name="Load the initial configuration_entry">
               <reply-activity name="Load the initial configuration_activity"/>
            </reply-entry>
            <reply-entry name="Prepare training data set_entry">
               <reply-activity name="Prepare training data set_activity"/>
            </reply-entry>
            <reply-entry name="Activate forecast_entry">
               <reply-activity name="Activate forecast_activity"/>
            </reply-entry>
            <reply-entry name="Create endpoint_entry">
               <reply-activity name="Create endpoint_activity"/>
            </reply-entry>
            <reply-entry name="Provide online interface_entry">
               <reply-activity name="Provide online interface_activity"/>
            </reply-entry>
         </task-activities>
      </task>
   </processor>
   <processor multiplicity="1" name="SageMaker_processor" scheduling="fcfs" speed-factor="1">
      <task name="SageMaker_task" scheduling="inf">
         <entry name="Train the model_entry" type="NONE"/>
         <entry name="Save model_entry" type="NONE"/>
         <task-activities>
            <activity bound-to-entry="Train the model_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="600" name="Train the model_activity"/>
            <activity bound-to-entry="Save model_entry" call-order="STOCHASTIC" host-demand-cvsq="1" host-demand-mean="11" name="Save model_activity"/>
            <reply-entry name="Train the model_entry">
               <reply-activity name="Train the model_activity"/>
            </reply-entry>
            <reply-entry name="Save model_entry">
               <reply-activity name="Save model_activity"/>
            </reply-entry>
         </task-activities>
      </task>
   </processor>
   <processor name="smart meter_processor" scheduling="inf" speed-factor="1">
      <task multiplicity="10" name="smart meter_task" scheduling="ref" think-time="1e-08">
         <entry name="Start Event_entry" type="NONE"/>
         <task-activities>
            <activity bound-to-entry="Start Event_entry" call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Start Event"/>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Read current meter">
               <synch-call calls-mean="1" dest="Read current meter_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Clean raw data">
               <synch-call calls-mean="1" dest="Clean raw data_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Check whether the input format is correct"/>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Select data">
               <synch-call calls-mean="1" dest="Select data_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Standardize data">
               <synch-call calls-mean="1" dest="Standardize data_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="The data is available"/>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Send data to Cloudwatch">
               <synch-call calls-mean="1" dest="Send data to Cloudwatch_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Share on SNS">
               <synch-call calls-mean="1" dest="Share on SNS_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Tigger ML pipeline state machine">
               <synch-call calls-mean="1" dest="Tigger ML pipeline state machine_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Parallel Gateway 1"/>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Activate model training">
               <synch-call calls-mean="1" dest="Activate model training_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Activate forecast">
               <synch-call calls-mean="1" dest="Activate forecast_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Check if an initial model is needed"/>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Prepare training data set">
               <synch-call calls-mean="1" dest="Prepare training data set_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Initial model training pipeline">
               <synch-call calls-mean="1" dest="Initial model training pipeline_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Load the initial configuration">
               <synch-call calls-mean="1" dest="Load the initial configuration_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="The data is ready"/>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Train the model">
               <synch-call calls-mean="1" dest="Train the model_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Save model">
               <synch-call calls-mean="1" dest="Save model_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Parallel Gateway 2"/>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Create endpoint">
               <synch-call calls-mean="1" dest="Create endpoint_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="Provide online interface">
               <synch-call calls-mean="1" dest="Provide online interface_entry"/>
            </activity>
            <activity call-order="STOCHASTIC" host-demand-cvsq="1e-08" host-demand-mean="1e-08" name="End Event"/>
            <precedence>
               <pre>
                  <activity name="Start Event"/>
               </pre>
               <post>
                  <activity name="Read current meter"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Read current meter"/>
               </pre>
               <post>
                  <activity name="Clean raw data"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Clean raw data"/>
               </pre>
               <post>
                  <activity name="Check whether the input format is correct"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Check whether the input format is correct"/>
               </pre>
               <post-OR>
                  <activity name="Standardize data" prob="0.8"/>
                  <activity name="Select data" prob="0.2"/>
               </post-OR>
            </precedence>
            <precedence>
               <pre-OR>
                  <activity name="Select data"/>
                  <activity name="Standardize data"/>
               </pre-OR>
               <post>
                  <activity name="The data is available"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="The data is available"/>
               </pre>
               <post>
                  <activity name="Send data to Cloudwatch"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Send data to Cloudwatch"/>
               </pre>
               <post>
                  <activity name="Share on SNS"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Share on SNS"/>
               </pre>
               <post>
                  <activity name="Tigger ML pipeline state machine"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Tigger ML pipeline state machine"/>
               </pre>
               <post>
                  <activity name="Parallel Gateway 1"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Parallel Gateway 1"/>
               </pre>
               <post-AND>
                  <activity name="Activate model training"/>
                  <activity name="Activate forecast"/>
               </post-AND>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Activate model training"/>
               </pre>
               <post>
                  <activity name="Check if an initial model is needed"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Check if an initial model is needed"/>
               </pre>
               <post-OR>
                  <activity name="Initial model training pipeline" prob="0.5"/>
                  <activity name="Prepare training data set" prob="0.5"/>
               </post-OR>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Initial model training pipeline"/>
               </pre>
               <post>
                  <activity name="Load the initial configuration"/>
               </post>
            </precedence>
            <precedence>
               <pre-OR>
                  <activity name="Prepare training data set"/>
                  <activity name="Load the initial configuration"/>
               </pre-OR>
               <post>
                  <activity name="The data is ready"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="The data is ready"/>
               </pre>
               <post>
                  <activity name="Train the model"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Train the model"/>
               </pre>
               <post>
                  <activity name="Save model"/>
               </post>
            </precedence>
            <precedence>
               <pre-AND>
                  <activity name="Save model"/>
                  <activity name="Activate forecast"/>
               </pre-AND>
               <post>
                  <activity name="Parallel Gateway 2"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Parallel Gateway 2"/>
               </pre>
               <post>
                  <activity name="Create endpoint"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Create endpoint"/>
               </pre>
               <post>
                  <activity name="Provide online interface"/>
               </post>
            </precedence>
            <precedence>
               <pre>
                  <activity name="Provide online interface"/>
               </pre>
               <post>
                  <activity name="End Event"/>
               </post>
            </precedence>
         </task-activities>
      </task>
   </processor>
</lqn-model>